@using Dominio;
@model List<Vuelo>

<h1>Buscador de vuelos</h1>
<h2>Buscá tu vuelo por aeropuerto</h2>

<form method="post">
	<label>Ingrese el código del aeropuerto de salida</label>
	<input type="text" name="codSalida">
	<br />
	<label>Ingrese el código del aeropuerto de llegada</label>
	<input type="text" name="codLlegada">
	<button type="submit">Buscar</button>
</form>

@if (ViewBag.Mensaje != null)
{
	<p>@ViewBag.Mensaje</p>
}


@if (Model != null && Model.Count > 0)
{

	<table>
		<thead>
			<tr>
				<th>Número de avión</th>
				<th>Ruta</th>
				<th>Avión</th>
				<th>Frecuencia</th>
			</tr>
		</thead>
		<tbody>
			@foreach (Vuelo vuelo in Model)
			{
				<tr>
					<td>@vuelo.NumVuelo</td>
					<td>@vuelo.Ruta.ToString()</td>					
					<td>@vuelo.Avion.Fabricante @vuelo.Avion.Modelo </td>
					<td>@string.Join(", ", vuelo.Frecuencia)</td>
					<td><a href="/Pasaje/Comprar?numVuelo=@vuelo.NumVuelo" class="btn btn-primary">Comprar pasaje</a></td>
				</tr>
			}
		</tbody>
	</table>
}

